import{S as m,a as f,i as u}from"./assets/vendor-KnZd4sWe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const g=new m(".gallery a",{captionsData:"alt",captionDelay:250});if(!document.querySelector(".gallery")){const n=document.createElement("div");n.classList.add("gallery"),document.body.appendChild(n)}function h(n){const r=document.querySelector(".gallery");if(!r){console.error("ERR NOT FOUND");return}r.innerHTML="",n.forEach(o=>{const s=document.createElement("div");s.classList.add("image-container");const e=document.createElement("a");e.href=o.largeImageURL,e.setAttribute("data-lightbox","gallery");const t=document.createElement("img");t.src=o.webformatURL,t.alt=o.tags;const i=document.createElement("p");i.innerHTML=`Likes: ${o.likes}, Views: ${o.views}, Downloads: ${o.downloads}`,e.append(t),s.append(e,i),r.append(s)}),g.refresh()}const L="42897935-d12608076f0478c23c9bb15ea",b="https://pixabay.com/api/";let l=1,p="";const c=document.querySelector("#load-more");document.querySelector("#search-form");const d=document.querySelector("#loader");c.style.display="none";async function y(n,r=1){n!==p&&(l=1,p=n,document.querySelector(".gallery").innerHTML="",c.style.display="none");try{d.style.display="block";const o=await f.get(b,{params:{key:L,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:r}});if(d.style.display="none",o.data.hits.length===0){u.error({title:"err",message:"not found",position:"topRight"});return}h(o.data.hits),c.style.display="block",l=r}catch(o){d.style.display="none",u.error({title:"err",message:"err",position:"topRight"}),console.error("failed",o)}}function S(){l+=1,y(p,l)}c.addEventListener("click",S);document.querySelector(".searchBtn");const a=document.querySelector("form");a.style.margin="0 auto";a.style.display="block";a.style.width="300px";a.addEventListener("submit",n=>{n.preventDefault();const r=a.querySelector("input").value.trim();if(r===""){u.error({title:"Err.",message:"nothing is found",position:"topRight"});return}y(r),a.querySelector("input").value=""});
//# sourceMappingURL=index.js.map
