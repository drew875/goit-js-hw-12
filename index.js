import{a as m,S as h,i as p}from"./assets/vendor-KnZd4sWe.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const L="42897935-d12608076f0478c23c9bb15ea",b="https://pixabay.com/api/";async function d(r,t){try{return(await m.get(b,{params:{key:L,q:r,safesearch:!0,page:t,per_page:40,image_type:"photo",orientation:"horizontal"}})).data}catch{console.log("error")}}const v=document.querySelector(".gallery");function y(r,t){const s=r.map(e=>`<div class="gallery-item">
         <a href = "${e.largeImageURL}" >
         <img src = "${e.webformatURL}" alt="${e.tags}">
         </a>
         <p>Likes: ${e.likes} Views: ${e.views} Comments: ${e.comments} Downloads:${e.downloads}</p>
         </div>`).join("");v.insertAdjacentHTML("beforeend",s),new h(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}const w=document.querySelector("form"),f=document.querySelector(".inputValue"),l=document.querySelector(".loadBtn"),n=document.querySelector(".gallery");n.style.display="flex";n.style.flexWrap="wrap";n.style.justifyContent="center";n.style.margin="0 auto";n.style.gap="15px";const u=document.querySelector(".loader"),a={value:"",page:1,total:100};n.style.display="flex";n.style.flexWrap="wrap";l.style.display="none";w.addEventListener("submit",async r=>{r.preventDefault(),u.style.display="inline-block",a.value=f.value,a.page=1,n.innerHTML="";const t=await d(a.value,a.page);(!t||!t.hits.length)&&p.error({title:"err",message:"not found"}),y(t.hits),u.style.display="none",a.total=t.totalHits,g()});l.addEventListener("click",async r=>{a.value=f.value,a.page+=1,g();const t=await d(a.value,a.page);y(t.hits),q()});function x(){l.style.display="none"}function S(){l.style.display="block"}function g(){const t=Math.ceil(a.total/40);a.page>=t?(x(),p.info({title:"info",message:"last page"})):S()}function q(){scrollBy({top:500})}
//# sourceMappingURL=index.js.map
