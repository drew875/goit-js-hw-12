import{S as m,a as g,i as y}from"./assets/vendor-KnZd4sWe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const h=new m(".gallery a",{captionsData:"alt",captionDelay:250});if(!document.querySelector(".gallery")){const n=document.createElement("div");n.classList.add("gallery"),document.body.appendChild(n)}function L(n){const r=document.querySelector(".gallery");if(!r){console.error("ERR NOT FOUND");return}r.innerHTML="",n.forEach(o=>{const s=document.createElement("div");s.classList.add("image-container");const e=document.createElement("a");e.href=o.largeImageURL,e.setAttribute("data-lightbox","gallery");const t=document.createElement("img");t.src=o.webformatURL,t.alt=o.tags;const l=document.createElement("p");l.innerHTML=`Likes: ${o.likes}, Views: ${o.views}, Downloads: ${o.downloads}`,e.append(t),s.append(e,l),r.append(s)}),h.refresh()}const b="42897935-d12608076f0478c23c9bb15ea",S="https://pixabay.com/api/";let i=1,p="";const c=document.querySelector("#load-more");document.querySelector("#search-form");const u=document.querySelector("#loader");c.style.display="none";async function f(n,r=1){n!==p&&(i=1,p=n,document.querySelector(".gallery").innerHTML="",c.style.display="none");try{u.style.display="block";const o=await g.get(S,{params:{key:b,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:r,total:100}});if(u.style.display="none",o.data.hits.length===0){y.error({title:"err",message:"not found",position:"topRight"});return}L(o.data.hits),c.style.display="block",i=r}catch(o){u.style.display="none",y.error({title:"err",message:"err",position:"topRight"}),console.error("failed",o)}}function E(){i+=1,f(p,i)}c.addEventListener("click",E);const a=document.querySelector("form"),d=document.querySelector(".gallery");a.style.width="300px";a.style.margin="0 auto";d.style.display="flex";d.style.flexWrap="wrap";d.style.margin="0 auto";d.style.justifyContent="center";a.addEventListener("submit",n=>{n.preventDefault();const r=a.querySelector("input").value.trim();if(r===""){y.error({title:"Err.",message:"nothing is found",position:"topRight"});return}f(r),a.querySelector("input").value=""});
//# sourceMappingURL=index.js.map
