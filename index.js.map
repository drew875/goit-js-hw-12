{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst MY_KEY = \"42897935-d12608076f0478c23c9bb15ea\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function searchImage(value, page) {\n    try {\n        const a = await axios.get(BASE_URL, {\n            params: {\n                key: MY_KEY,\n                q: value,\n                safesearch: true,\n                page: page,\n                per_page: 40,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n\n            }\n        })\n\n        return a.data;\n\n    } catch {\n        console.log(\"error\");\n    }\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { searchImage } from \"./pixabay-api.js\";\n\nconst galleryContainer = document.querySelector(\".gallery\");\n\nexport function renderFunctions(image, page) {\n\n    const markup = image.map(img =>\n\n        `<div class=\"gallery-item\">\n         <a href = \"${img.largeImageURL}\" >\n         <img src = \"${img.webformatURL}\" alt=\"${img.tags}\">\n         </a>\n         <p>Likes: ${img.likes} Views: ${img.views} Comments: ${img.comments} Downloads:${img.downloads}</p>\n         </div>`\n    ).join(\"\");\n\n    galleryContainer.insertAdjacentHTML(\"beforeend\", markup);\n\n\n    let lightbox = new SimpleLightbox(\".gallery a\", { captionsData: \"alt\", captionDelay: 250 });\n    lightbox.refresh();\n}","import { searchImage } from \"./js/pixabay-api.js\";\nimport { renderFunctions } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst a = document.querySelector(\"form\");\nconst b = document.querySelector(\".inputValue\")\nconst loadMoreBtn = document.querySelector(\".loadBtn\");\nconst galleryContainer = document.querySelector(\".gallery\");\ngalleryContainer.style.display = \"flex\";\ngalleryContainer.style.flexWrap = \"wrap\";\ngalleryContainer.style.justifyContent = \"center\";\ngalleryContainer.style.margin = \"0 auto\";\ngalleryContainer.style.gap = \"15px\";\nconst loaderImage = document.querySelector(\".loader\");\nconst params = { value: \"\", page: 1, total: 100 };\ngalleryContainer.style.display = \"flex\";\ngalleryContainer.style.flexWrap = \"wrap\";\nloadMoreBtn.style.display = \"none\";\n\na.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    loaderImage.style.display = \"inline-block\";\n    params.value = b.value;\n    params.page = 1;\n    galleryContainer.innerHTML = \"\";\n\n    const result = await searchImage(params.value, params.page);\n    if (!result || !result.hits.length) {\n        iziToast.error({\n            title: \"err\",\n            message: \"not found\",\n        })\n    }\n    renderFunctions(result.hits, params.page);\n    loaderImage.style.display = \"none\";\n    params.total = result.totalHits;\n    checkLoadMoreBtnStatus();\n\n});\n\nloadMoreBtn.addEventListener(\"click\", async (e) => {\n    params.value = b.value;\n    params.page += 1;\n    checkLoadMoreBtnStatus();\n    const result = await searchImage(params.value, params.page);\n    renderFunctions(result.hits, params.page);\n    scrollPage();\n});\n\nfunction hideLoadBtn() {\n    loadMoreBtn.style.display = \"none\";\n}\n\nfunction showLoadMoreBtn() {\n    loadMoreBtn.style.display = \"block\";\n}\n\nfunction checkLoadMoreBtnStatus() {\n    const perPage = 40;\n    const maxPage = Math.ceil(params.total / perPage);\n    if (params.page >= maxPage) {\n        hideLoadBtn();\n        iziToast.info({\n            title: \"info\",\n            message: \"last page\"\n        });\n    } else {\n        showLoadMoreBtn();\n    }\n}\n\nfunction scrollPage() {\n    scrollBy({\n        'top': 500,\n    })\n}"],"names":["MY_KEY","BASE_URL","searchImage","value","page","axios","galleryContainer","renderFunctions","image","markup","img","SimpleLightbox","a","b","loadMoreBtn","loaderImage","params","e","result","iziToast","checkLoadMoreBtnStatus","scrollPage","hideLoadBtn","showLoadMoreBtn","maxPage"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAM,CAC3C,GAAI,CAcA,OAbU,MAAMC,EAAM,IAAIJ,EAAU,CAChC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,GACZ,KAAMC,EACN,SAAU,GACV,WAAY,QACZ,YAAa,YAEhB,CACb,CAAS,GAEQ,IAEjB,MAAY,CACJ,QAAQ,IAAI,OAAO,CACtB,CACL,CCrBA,MAAME,EAAmB,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAgBC,EAAOJ,EAAM,CAEzC,MAAMK,EAASD,EAAM,IAAIE,GAErB;AAAA,sBACcA,EAAI,aAAa;AAAA,uBAChBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,qBAEpCA,EAAI,KAAK,WAAWA,EAAI,KAAK,cAAcA,EAAI,QAAQ,cAAcA,EAAI,SAAS;AAAA,gBAEvG,EAAM,KAAK,EAAE,EAETJ,EAAiB,mBAAmB,YAAaG,CAAM,EAGxC,IAAIE,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EACjF,QAAO,CACpB,CClBA,MAAMC,EAAI,SAAS,cAAc,MAAM,EACjCC,EAAI,SAAS,cAAc,aAAa,EACxCC,EAAc,SAAS,cAAc,UAAU,EAC/CR,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,MAAM,QAAU,OACjCA,EAAiB,MAAM,SAAW,OAClCA,EAAiB,MAAM,eAAiB,SACxCA,EAAiB,MAAM,OAAS,SAChCA,EAAiB,MAAM,IAAM,OAC7B,MAAMS,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAS,CAAE,MAAO,GAAI,KAAM,EAAG,MAAO,KAC5CV,EAAiB,MAAM,QAAU,OACjCA,EAAiB,MAAM,SAAW,OAClCQ,EAAY,MAAM,QAAU,OAE5BF,EAAE,iBAAiB,SAAU,MAAOK,GAAM,CACtCA,EAAE,eAAc,EAChBF,EAAY,MAAM,QAAU,eAC5BC,EAAO,MAAQH,EAAE,MACjBG,EAAO,KAAO,EACdV,EAAiB,UAAY,GAE7B,MAAMY,EAAS,MAAMhB,EAAYc,EAAO,MAAOA,EAAO,IAAI,GACtD,CAACE,GAAU,CAACA,EAAO,KAAK,SACxBC,EAAS,MAAM,CACX,MAAO,MACP,QAAS,WACrB,CAAS,EAELZ,EAAgBW,EAAO,IAAiB,EACxCH,EAAY,MAAM,QAAU,OAC5BC,EAAO,MAAQE,EAAO,UACtBE,GAEJ,CAAC,EAEDN,EAAY,iBAAiB,QAAS,MAAOG,GAAM,CAC/CD,EAAO,MAAQH,EAAE,MACjBG,EAAO,MAAQ,EACfI,IACA,MAAMF,EAAS,MAAMhB,EAAYc,EAAO,MAAOA,EAAO,IAAI,EAC1DT,EAAgBW,EAAO,IAAiB,EACxCG,GACJ,CAAC,EAED,SAASC,GAAc,CACnBR,EAAY,MAAM,QAAU,MAChC,CAEA,SAASS,GAAkB,CACvBT,EAAY,MAAM,QAAU,OAChC,CAEA,SAASM,GAAyB,CAE9B,MAAMI,EAAU,KAAK,KAAKR,EAAO,MAAQ,EAAO,EAC5CA,EAAO,MAAQQ,GACfF,IACAH,EAAS,KAAK,CACV,MAAO,OACP,QAAS,WACrB,CAAS,GAEDI,GAER,CAEA,SAASF,GAAa,CAClB,SAAS,CACL,IAAO,GACf,CAAK,CACL"}